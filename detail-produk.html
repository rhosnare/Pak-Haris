<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Detail Produk | Adrise</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet" />
  <link rel="icon" href="assets/logo.png" />
  <link rel="stylesheet" href="css/main.css">
  <style>
    .detail-page {
      padding-top: 6rem;
      padding-bottom: 4rem;
      background-color: #121212;
      color: #eee;
      font-family: 'Poppins', sans-serif;
    }

    .detail-container {
      display: flex;
      flex-wrap: wrap;
      align-items: flex-start;
      justify-content: center;
      gap: 3rem;
      max-width: 1200px;
      margin: auto;
      padding: 2rem;
    }

    .detail-wrapper {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      width: 100%;
      justify-content: center;
    }

    .detail-image {
      width: 480px;
      height: 320px;
      object-fit: cover;
      border-radius: 16px;
      box-shadow: 0 0 12px rgba(0, 0, 0, 0.5);
    }


    .detail-info {
      flex: 1;
      min-width: 280px;
      max-width: 600px;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      justify-content: center;
    }

    .detail-info h1 {
      color: #f9a825;
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .detail-info .harga {
      font-weight: bold;
      font-size: 1.2rem;
      color: #ffd54f;
    }

    .detail-info .deskripsi {
      font-size: 1rem;
      line-height: 1.6;
      color: #ccc;
    }

    .btn-cart {
      background-color: #f9a825;
      color: #121212;
      border: none;
      padding: 0.8rem 1.6rem;
      border-radius: 10px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s ease, box-shadow 0.3s ease;
      align-self: flex-start;
    }

    .btn-cart:hover {
      background-color: #ffd54f;
      box-shadow: 0 0 10px rgba(255, 213, 79, 0.5);
    }

    @media (max-width: 768px) {
      .detail-wrapper {
        flex-direction: column;
        align-items: center;
        text-align: center;
      }

      .detail-info {
        align-items: center;
      }

      .btn-cart {
        align-self: center;
      }
    }
  </style>
  <link rel="icon" href="assets/icons/favicon.png">
  <script>
  document.addEventListener("DOMContentLoaded", () => {
    console.log("‚úÖ detail.js aktif (inline)");
    const container = document.getElementById("detailContainer");
    const cartCount = document.getElementById("cart-count");

    const produkList = [
      {
        id: 1,
        nama: "Desain Grafis",
        harga: 350000,
        deskripsi: "Desain visual kreatif untuk promosi dan branding digital.",
        gambar: "assets/Desain Grafis.jpeg"
      },
      {
        id: 2,
        nama: "Motion Graphics",
        harga: 900000,
        deskripsi: "Animasi grafis yang dinamis untuk memperkuat konten digitalmu.",
        gambar: "assets/motion-graphic.mp4"
      },
      {
        id: 3,
        nama: "Pembuatan Video",
        harga: 1000000,
        deskripsi: "Video profesional untuk kampanye, profil brand, atau promosi.",
        gambar: "assets/pembuatan-video.mp4"
      },
      {
        id: 4,
        nama: "Manajemen Sosmed",
        harga: 450000,
        deskripsi: "Atur & aktifkan sosial media-mu dengan strategi yang tepat.",
        gambar: "assets/sosmed.jpeg"
      },
      {
        id: 5,
        nama: "Branding & Rebranding",
        harga: 450000,
        deskripsi: "Bentuk ulang citra brand-mu agar lebih menonjol dan solid.",
        gambar: "assets/branding.jpeg"
      },
      {
        id: 6,
        nama: "Iklan Digital",
        harga: 800000,
        deskripsi: "Kampanye iklan digital untuk jangkauan yang lebih luas.",
        gambar: "assets/Iklan Digital.jpeg"
      },
      {
        id: 7,
        nama: "Iklan Tradisional",
        harga: 200000,
        deskripsi: "Promosi offline via media konvensional yang tetap efektif.",
        gambar: "assets/iklan tradisional.jpeg"
      },
      {
        id: 8,
        nama: "Copywriting",
        harga: 300000,
        deskripsi: "Teks iklan yang kuat, menarik, dan meningkatkan konversi.",
        gambar: "assets/copywriting.jpeg"
      },
      {
        id: 9,
        nama: "Iklan Youtube",
        harga: 750000,
        deskripsi: "Video iklan kreatif untuk menjangkau audiens YouTube.",
        gambar: "assets/iklan youtube.mp4"
      },
      {
        id: 10,
        nama: "Voice Over",
        harga: 500000,
        deskripsi: "Suara profesional untuk video, iklan, atau presentasi.",
        gambar: "assets/voice over.jpeg"
      }
    ];


    function getProductId() {
      const params = new URLSearchParams(window.location.search);
      return parseInt(params.get("id"));
    }

    function renderDetail(produk) {
      const isVideo = produk.gambar.endsWith(".mp4");

      container.innerHTML = `
        <div class="detail-wrapper">
          ${isVideo
            ? `<video class="detail-image" autoplay muted loop>
                <source src="${produk.gambar}" type="video/mp4" />
                Browser tidak mendukung video.
              </video>`
            : `<img src="${produk.gambar}" alt="${produk.nama}" class="detail-image">`
          }
          <div class="detail-info">
            <h1>${produk.nama}</h1>
            <p class="harga">Rp ${produk.harga.toLocaleString("id-ID")}</p>
            <p class="deskripsi">${produk.deskripsi}</p>
            <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
              <button id="btnAddToCart" class="btn-cart">+ Tambah ke Keranjang</button>
              <button id="btnBack" class="btn-cart" style="background-color: transparent; color: #f9a825; border: 2px solid #f9a825;">
                ‚Üê Kembali ke Produk
              </button>
            </div>
          </div>
        </div>
      `;

      document.getElementById("btnAddToCart").addEventListener("click", () => {
        tambahKeKeranjang(produk);
      });
      document.getElementById("btnBack").addEventListener("click", () => {
    window.location.href = "produk.html";
      });
    }


    function tambahKeKeranjang(produk) {
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      const index = cart.findIndex(item => item.id === produk.id);
      if (index > -1) {
        cart[index].jumlah += 1;
      } else {
        cart.push({ ...produk, jumlah: 1 });
      }
      localStorage.setItem("cart", JSON.stringify(cart));
      alert("Produk berhasil ditambahkan ke keranjang!");
      updateCartCount();
    }

    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      const total = cart.reduce((sum, item) => sum + item.jumlah, 0);
      cartCount.textContent = total;
    }

    const id = getProductId();
    console.log("ID dari URL:", id);
    const produk = produkList.find(p => p.id == id);
    if (produk) {
      renderDetail(produk);
      updateCartCount();
    } else {
      container.innerHTML = `<p style="padding:2rem;text-align:center;">Produk tidak ditemukan.</p>`;
    }
  });
</script>
</head>
<body>
  <header class="navbar">
    <div class="container navbar-content">
      <div class="logo">Adrise<span>.</span></div>
      <nav class="nav-links">
        <a href="index.html">Beranda</a>
        <a href="produk.html">Produk</a>
        <a href="cart.html" class="cart-icon">üõí<span id="cart-count">0</span></a>
      </nav>
    </div>
  </header>

  <main class="detail-page">
    <div class="container detail-container" id="detailContainer">
      <!-- Konten produk akan dirender oleh JS -->
    </div>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2025 Adrise. All rights reserved.</p>
    </div>
  </footer>
</body>
</html>
